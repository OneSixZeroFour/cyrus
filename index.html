<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>路由</title>
</head>
<body>
    <div id="demo">
        
    </div>
    <template id="app">
        <a v-link="{path:'/index'}">index</a>
        <a v-link="{name:'home',params:{id:1,name:'abc'}}">home</a>
        <router-view></router-view>
    </template>
        
        <!-- {{name}}
        <router-view></router-view> -->
    
    
</body>
<script src="js/vue.js"></script>
<script src="js/vue-resource.min.js"></script>
<script src="js/vue-router.js"></script>
<script>
    var index = Vue.extend({
        template:'<div>第一个路由<router-view></router-view></div>'
    })
    var home = Vue.extend({
        template:'<div>第二个路由</div>',
        route:{
            data:function(transition){
                console.log(transition)
                this.$http.get('test.php',{
                    params:{
                        name:transition.to.params.name
                    }
                }).then(function(data){
                    console.log(data)
                })
            }
        }
    })
    var index1 = Vue.extend({
        template:'<p>第一个路由嵌套</p>'
    })
    var index2 = Vue.extend({
        template:'<p>第二个路由嵌套</p>'
    })
    var App = Vue.extend({
        template:'#app',
        replace:false,
        data:function(){
            return {
                name:'cyrus'
            }
        }
    })
    //Vue.component('index',index)
    /*new Vue({
        el:'#demo',
        data:{
            name:'cyrus'
        },
        methods:{

        }
    })*/
    //定义路由
    var router = new VueRouter();
    router.map({
        '/index':{
            component:index,
            //路由嵌套
            subRoutes:{
                'a':{
                    component:index1
                },
                'b':{
                    component:index2
                }
            }
        },
        '/home/:id/:name':{
            name:'home',
            component:home
        }
    })
    router.redirect({
        '*':'/index'
    })
    router.start(App,'#demo')
</script>
<style>
        .v-link-active {
            color: red
        }
    </style>
</html>
